{
  "id": "ds_t4_003",
  "original_id": "defivulnlabs_storage-collision",
  "source_dataset": "DeFiVulnLabs",
  "language": "solidity",
  "chain": "evm",
  "file_name": "Storage-collision.sol",
  "vulnerable_function": "multiple",
  "vulnerable_lines": [],
  "vulnerability_type": "storage_collision",
  "original_category": null,
  "severity": "high",
  "difficulty_tier": 4,
  "description": "The vulnerability is that both the Proxy and Logic contracts use the same storage slot (slot 0) to store important variables,\nnamely the implementation address in the Proxy contract and the GuestAddress in the Logic contract. \nSince the Proxy contract is using the delegatecall method to interact with the Logic contract, \nthey share the same storage. If the foo function is called,\nit overwrites the implementation address in the Proxy contract, which results in an unexpected behavior.",
  "fix_description": "One approach to mitigating this issue is to design the storage layout of the proxy and logic contracts to be consistent with each other.",
  "is_vulnerable": true,
  "context_level": "intra_contract",
  "original_source_path": "src/test/Storage-collision.sol",
  "source_url": null,
  "references": [],
  "framework": "foundry",
  "contract_file": "contracts/ds_t4_003.sol",
  "subset": "annotated",
  "original_subset": "difficulty_stratified",
  "original_ds_id": "ds_223"
}